def pi = 3.14159265359
def pos_x = 0  # pos not working
def pos_y = 0

# settings
def n_cogs = 10
def cog_space = 3
def cog_height = 10
def outer_radius = 50
def inner_radius = 30

def length = (pi * 2) / n_cogs
def radian = pi * outer_radius
def space_radian = (cog_space / radian) * pi
def cog_radian = length - space_radian

arc(pos_x pos_y inner_radius 0 pi * 2)

repeat 0 to n_cogs using i {
	def start = (length * i) - cog_radian
    def end = length * i
    def middle = (space_radian / 2)
    arc(pos_x pos_y outer_radius start end)
    
    def sx = cos(length * i)
    def sy = sin(length * i)
    def cx = cos(end - middle)
    def cy = sin(end - middle)
    def ex = cos(end - space_radian)
    def ey = sin(end - space_radian)
    
    def p1x = sx * outer_radius
    def p1y = sy * outer_radius
    def p2x = ex * outer_radius
    def p2y = ey * outer_radius
    
    line(p1x + pos_x p1y + pos_y 
    	 p1x - cx * cog_height + pos_x
         p1y - cy * cog_height + pos_y)
    line(p2x + pos_x p2y + pos_y 
    	 p2x - cx * cog_height + pos_x 
         p2y - cy * cog_height + pos_y)
    line(p1x - cx * cog_height + pos_x 
    	 p1y - cy * cog_height + pos_y
         p2x - cx * cog_height + pos_x
         p2y - cy * cog_height + pos_y)
}

